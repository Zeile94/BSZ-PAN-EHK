<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <title>Fixed Chat UI</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      height: 100svh;
      overflow: hidden;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      font-family: sans-serif;
      background: #222;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .phone {
      width: 360px;
      height: 100%;
      max-height: 780px;
      background: #111;
      border-radius: 30px;
      position: relative;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      box-shadow: 0 0 20px rgba(0,0,0,0.5);
      color: white;
    }

    .chat-header {
      padding: 20px;
      background: #1a1a1a;
      border-bottom: 1px solid #333;
      flex-shrink: 0;
    }

    .user-info {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .avatar {
      width: 50px;
      height: 50px;
      border-radius: 12px;
      object-fit: cover;
    }

    .name {
      font-size: 20px;
      font-weight: bold;
    }

    .description {
      font-size: 12px;
      opacity: 0.7;
      line-height: 1.3;
      margin-top: 4px;
    }

    .chat-messages {
      flex: 1;
      overflow-y: auto;
      padding: 15px;
      padding-bottom: 100px;
      box-sizing: border-box;
    }

    .message {
      max-width: 75%;
      margin-bottom: 12px;
      padding: 10px 14px;
      border-radius: 12px;
      font-size: 14px;
      line-height: 1.4;
    }

    .ai-message {
      background: #2a2a2a;
      border-top-left-radius: 0;
    }

    .user-message {
      background: #4a2f6b;
      border-top-right-radius: 0;
      margin-left: auto;
    }

    .composer {
      position: fixed;
      bottom: env(keyboard-inset-height, 0);
      left: 50%;
      transform: translateX(-50%);
      width: 340px;
      max-width: 100%;
      background: #1a1a1a;
      padding: 10px;
      border-top: 1px solid #333;
      display: flex;
      align-items: center;
      gap: 10px;
      z-index: 20;
      box-sizing: border-box;
    }

    .composer input {
      flex: 1;
      padding: 10px;
      border: none;
      border-radius: 8px;
      outline: none;
      background: #333;
      color: white;
      font-size: 14px;
    }

    .composer button {
      background: #6a3ea1;
      border: none;
      padding: 10px 14px;
      border-radius: 8px;
      color: white;
      font-size: 14px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="phone">
    <div class="chat-header">
      <div class="user-info">
        <img src="https://i.pinimg.com/originals/b4/8b/00/b48b00befd76e487aef51b7a862cc16d.jpg" class="avatar" />
        <div>
          <div class="name">Valeria</div>
          <div class="description">
            **Alter:** 24<br>
            **Beruf:** Tattoo Artist & Barkeeperin<br>
            **Charakter:** selbstbewusst, frech, verspielt – aber mit Herz. Sie liebt tiefgründige Gespräche, Körperkunst, Nächte am Meer und Menschen, die sie emotional herausfordern. Valeria flirtet gerne, testet Grenzen, bleibt aber respektvoll. Wenn jemand ihre Aufmerksamkeit bekommt, dann intensiv.<br><br>
            **Schreibstil:** spontan, neckend, ein bisschen provokant – aber warm, aufmerksam und überraschend offen.
          </div>
        </div>
      </div>
    </div>

    <div class="chat-messages" id="chat">
      <div class="message ai-message">Hey… du siehst aus, als würdest du gleich etwas Freches sagen. Liege ich richtig?</div>
    </div>
  </div>

  <div class="composer">
    <input id="input" placeholder="Nachricht eingeben…" />
    <button onclick="sendMessage()">Senden</button>
  </div>

  <script>
    function sendMessage() {
      const input = document.getElementById("input");
      const chat = document.getElementById("chat");
      if (!input.value.trim()) return;

      const msg = document.createElement("div");
      msg.className = "message user-message";
      msg.textContent = input.value;
      chat.appendChild(msg);

      input.value = "";
      chat.scrollTop = chat.scrollHeight;

      setTimeout(() => {
        const ai = document.createElement("div");
        ai.className = "message ai-message";
        ai.textContent = "Mhm… interessant. Erzähl mir mehr darüber.";
        chat.appendChild(ai);
        chat.scrollTop = chat.scrollHeight;
      }, 600);
    }

    if (!CSS.supports('bottom: env(keyboard-inset-height)')) {
      window.visualViewport.addEventListener('resize', () => {
        const offset = window.innerHeight - window.visualViewport.height;
        document.querySelector('.composer').style.bottom = offset + 'px';
      });
    }
  </script>
</body>
</html>
